<section id="home" class="py-5">
    <div class="container py-5">
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-info float-right" data-toggle="modal" data-target="#addNotes">Add
                    Note</button>
                <div class="clearfix"></div>
            </div>
        </div>

        <!------------------------------------------------Notes------------------------------------------------------------->

        <div class="note my-3">
            <div class="row">
                <div *ngFor="let item of allNotes" class="col-md-3">
                    <div class="single-note text-center">
                        <div class="row">
                            <div class="col-md-12 dropdown">
                                <i class="fas fa-ellipsis-v float-right  p-3" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false"></i>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item text-info" data-toggle="modal"
                                        (click)="getId(item._id);adjust()" data-target="#editNote">Edit
                                        <i class=" edit fas fa-pen-square float-right mt-1"></i>
                                        <div class="clearfix"></div>
                                    </a>
                                    <a class="dropdown-item text-danger" data-toggle="modal" data-target="#deleteNote"
                                        (click)="getId(item._id)">Delete <i
                                            class="delete fas fa-trash  float-right mt-1"></i>
                                        <div class="clearfix"></div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <h2>{{item.title}}</h2>
                        <p class="px-3 pb-3 pt-2">{{item.desc}}</p>
                    </div>
                </div>

            </div>
        </div>
        <div class="alert alert-info text-center" *ngIf="noNotesFlag">No notes Found</div>



        <!--------------------------------------------------AddNote Modal--------------------------------------------------->

        <!-- Modal -->
        <div class="modal fade" id="addNotes" tabindex="-1" aria-labelledby="addNotesLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <form [formGroup]="addNote" (ngSubmit)="addNewNote()">
                        <div class="modal-body">
                            <div class="container">
                                <div class="form-group">
                                    <input type="text" formControlName="title" class="form-control" placeholder="Title">
                                </div>
                                <div class="form-group">
                                    <textarea cols="30" rows="10" formControlName="desc" class="form-control "
                                        placeholder="Type Your Note"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">

                            <button type="submit" class="btn btn-info"><span *ngIf="!waitingForDataFlag">Add</span>
                                <span *ngIf="waitingForDataFlag">Waiting....</span></button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>

        <!--------------------------------------------------Edit Modal--------------------------------------------------->

        <!-- Modal -->
        <div class="modal fade" id="editNote" tabindex="-1" aria-labelledby="editNoteLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Edit</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <form [formGroup]="addNote" (ngSubmit)="updateNote()">
                        <div class="modal-body">
                            <div class="container">
                                <div class="form-group">
                                    <input type="text" class="form-control" formControlName="title" placeholder="Title">
                                </div>
                                <div class="form-group">
                                    <textarea cols="30" rows="10" formControlName="desc" class="form-control "
                                        placeholder="Type Your Note"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">

                            <button type="submit" class="btn btn-info"><span *ngIf="!upadtedFlag">Update</span> <span
                                    *ngIf="upadtedFlag">Waiting.....</span></button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>


        <!--------------------------------------------------Delete Modal--------------------------------------------------->

        <!-- Modal -->
        <div class="modal fade" id="deleteNote" tabindex="-1" aria-labelledby="deleteNoteLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Are you sure?</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="container text-center text-info">
                            <p>Do you really want to delete ?</p>
                            <p>process cannot be undone</p>
                        </div>
                    </div>
                    <div class="modal-footer">

                        <button type="button" class="btn btn-danger" (click)="deleteNote()"><span
                                *ngIf="!deltedFlag">Delete</span>
                            <span *ngIf="deltedFlag">Waiting....</span></button>
                        <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>